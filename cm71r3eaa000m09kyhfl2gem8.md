---
title: "[js] ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸, ìŠ¤ì½”í”„ ì²´ì¸, í´ë¡œì €"
seoTitle: "JavaScript: Context, Scope, Closure"
seoDescription: "JavaScript ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸, ìŠ¤ì½”í”„ ì²´ì¸, í´ë¡œì €ì˜ ê°œë…"
datePublished: Wed Feb 12 2025 10:11:00 GMT+0000 (Coordinated Universal Time)
cuid: cm71r3eaa000m09kyhfl2gem8
slug: js-1
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1739336850570/2c334cda-42a2-4329-a969-b1dc0524875a.png
tags: 7yg066gc7kca, 7iuk7zaj7luo7ywn7iqk7yq4, 7iqk7l2u7zse7lk07j24

---

## ğŸ“Œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” **ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.** ì£¼ë¡œ **í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ ìƒì„±ë˜ë©°, ì‹¤í–‰ì´ ëë‚˜ë©´ ì‚¬ë¼ì§€ëŠ”** ìŠ¤íƒ ê¸°ë°˜ êµ¬ì¡°ë¥¼ ë”°ë¥¸ë‹¤.  
ì´ëŸ¬í•œ ì›ë¦¬ì— ë”°ë¼ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” **ì½œ ìŠ¤íƒ(Call Stack)** ì— ìŒ“ì´ë©°, **ê°€ì¥ ë§ˆì§€ë§‰ì— ì¶”ê°€ëœ ì»¨í…ìŠ¤íŠ¸ë¶€í„° ì‹¤í–‰ë¨ìœ¼ë¡œì¨** í•¨ìˆ˜ ì‹¤í–‰ ìˆœì„œë¥¼ ê´€ë¦¬í•œë‹¤.  
ì´ ë°©ì‹ ë•ë¶„ì— **ì½”ë“œ ì‹¤í–‰ ìˆœì„œì™€ ì‹¤í–‰ í™˜ê²½ì´ ì¼ê´€ë˜ê²Œ ìœ ì§€ëœë‹¤**.

```jsx
var a = 1
function outer() {
  // --------------------------- [2]
  function inner() {
    // ------------------------- [4]
    console.log(a) // ---------- [5]
    var a = 3 // --------------- [6]
  }
  inner() // ------------------- [3]
  console.log(a) // ------------ [7]
}
outer() // -------------------- [1]
console.log(a) // --------------[8]
```

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1739332739830/4af405b0-b5ee-48f1-8dc0-0a40bd62abf7.png align="center")

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ì£¼ìš” ì •ë³´

* **VariableEnvironment** (ë³€ìˆ˜ í™˜ê²½)
    
* **LexicalEnvironment** (ë ‰ì‹œì»¬ í™˜ê²½)
    
* **ThisBinding** (`this` ë°”ì¸ë”©)
    

**VariableEnvironment** ì™€ **LexicalEnvironment** ëŠ” ì•„ë˜ ë‘ ê°€ì§€ ìš”ì†Œë¥¼ í¬í•¨í•œë‹¤

* **EnvironmentRecord (í™˜ê²½ ê¸°ë¡)**
    
    * ë³€ìˆ˜, í•¨ìˆ˜ ì„ ì–¸ì„ ì €ì¥í•˜ëŠ” ê°ì²´ â†’ **í˜¸ì´ìŠ¤íŒ…ê³¼ ê´€ë ¨**
        
* **OuterEnvironmentReference (ì™¸ë¶€ í™˜ê²½ ì°¸ì¡°)**
    
    * **ìŠ¤ì½”í”„ ì²´ì¸**ì„ ë”°ë¼ ì™¸ë¶€ í™˜ê²½ì„ ì°¸ì¡° â†’ **í´ë¡œì €ì™€ ê´€ë ¨**
        

ğŸ” **EnvironmentRecord** ê°€ í˜¸ì´ìŠ¤íŒ…(Hoisting)ê³¼ ê´€ë ¨ ìˆëŠ” ì´ìœ 

**JS ì—”ì§„ì€** ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— **ëª¨ë“  ë³€ìˆ˜ì™€ í•¨ìˆ˜ ì„ ì–¸ì„** `EnvironmentRecord`ì— ë¨¼ì € ë“±ë¡í•œë‹¤.  
ì´ ë•Œë¬¸ì— **ë³€ìˆ˜ì™€ í•¨ìˆ˜ê°€ ì„ ì–¸ë˜ê¸° ì „ì—ë„ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í˜„ìƒ**, ì¦‰ **í˜¸ì´ìŠ¤íŒ…(Hoisting)** ì´ ë°œìƒ.

âœ… **ì˜ˆì œ 1: var ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ…**

```jsx
console.log(a); // undefined (í˜¸ì´ìŠ¤íŒ…ë¨)
var a = 10;
console.log(a); // 10
```

1. `var a;` ì„ ì–¸ì´ **EnvironmentRecordì— ë¨¼ì € ì €ì¥ë¨** (ì´ˆê¸°ê°’: `undefined`)
    
2. `console.log(a);` ì‹¤í–‰ â†’ `undefined` ì¶œë ¥
    
3. `a = 10;` ì‹¤í–‰ â†’ ê°’ì´ ì—…ë°ì´íŠ¸ë¨
    

â¡ï¸ `var` ë³€ìˆ˜ëŠ” **ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ Hoisting** ë˜ë¯€ë¡œ `undefined` ê°€ ì¶œë ¥ë¨.

---

âœ… **ì˜ˆì œ 2:** **í•¨ìˆ˜ì„ ì–¸ë¬¸ì˜ í˜¸ì´ìŠ¤íŒ…**

```jsx
hello(); // "Hello World!"

function hello() {
  console.log("Hello World!");
}
```

1. `hello` í•¨ìˆ˜ ì„ ì–¸ì´ **EnvironmentRecordì— ì €ì¥ë¨**
    
2. í•¨ìˆ˜ ì „ì²´ê°€ **í˜¸ì´ìŠ¤íŒ…ë¨** (ì¦‰, ë¯¸ë¦¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ!)
    
3. `hello();` ì‹¤í–‰ â†’ `"Hello World!"` ì¶œë ¥
    

â¡ï¸ **í•¨ìˆ˜ ì„ ì–¸ì€ ì „ì²´ê°€ í˜¸ì´ìŠ¤íŒ…ë˜ë¯€ë¡œ, ì„ ì–¸ ì „ì— í˜¸ì¶œ ê°€ëŠ¥**.

---

âœ… **ì˜ˆì œ 3: let / const ëŠ” ì™œ í˜¸ì´ìŠ¤íŒ…ì´ ë‹¤ë¥´ê²Œ ë™ì‘í• ê¹Œ?**

```jsx
console.log(b); // âŒ ReferenceError
let b = 10;
console.log(b);
```

1. `let b;` ì„ ì–¸ì´ **EnvironmentRecordì— ì €ì¥ë¨**
    
2. í•˜ì§€ë§Œ ì´ˆê¸°í™”(`undefined` í• ë‹¹)ê°€ ë˜ì§€ ì•ŠìŒ!
    
3. ì‹¤í–‰ ì „ì— ì ‘ê·¼í•˜ë©´ **ReferenceError ë°œìƒ**
    

â¡ï¸ `let` / `const`ëŠ” í˜¸ì´ìŠ¤íŒ…ì€ ë˜ì§€ë§Œ "TDZ(Temporal Dead Zone)"ì— ì˜í•´ ì´ˆê¸°í™” ì „ì—ëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ!

---

### ğŸ” **OuterEnvironmentReference** ë€?

**OuterEnvironmentReference (ì™¸ë¶€ í™˜ê²½ ì°¸ì¡°)** ëŠ” **ìŠ¤ì½”í”„ ì²´ì¸**ì„ ë”°ë¼ ë³€ìˆ˜ë¥¼ ì°¾ëŠ” ì—­í• 

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¾ì„ ë•ŒëŠ” **ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)** ì„ ë”°ë¼ê°„ë‹¤.  
ì‰½ê²Œ ë§í•´, í˜„ì¬ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¾ê³ , ì—†ìœ¼ë©´ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì´ë™í•œë‹¤.  
ì´ë•Œ, ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ê°€ **ë¬´ì—‡ì¸ì§€ ì—°ê²°í•´ì£¼ëŠ” ê²ƒì´** `OuterEnvironmentReference` ì´ë‹¤.

1. **í˜„ì¬ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ EnvironmentRecord**ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¾ìŒ.
    
2. ì—†ìœ¼ë©´ **OuterEnvironmentReference(ì™¸ë¶€ í™˜ê²½ ì°¸ì¡°)** ë¥¼ ë”°ë¼ **ìƒìœ„ ì»¨í…ìŠ¤íŠ¸**ë¡œ ì´ë™.
    
3. ê³„ì† ì˜¬ë¼ê°€ë‹¤ê°€ **ì „ì—­ ì»¨í…ìŠ¤íŠ¸ê¹Œì§€ ê°€ë„ ì—†ìœ¼ë©´ ReferenceError ë°œìƒ**.
    

```jsx
function outer() {
  let x = 10;
  
  function inner() {
    console.log(x); // outer()ì˜ xë¥¼ ì°¾ì„ ìˆ˜ ìˆìŒ!
  }
  
  inner();
}

outer(); // 10
```

1. `inner()` ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë¨
    
2. `inner()` ì•ˆì—ëŠ” `x`ê°€ ì—†ìœ¼ë¯€ë¡œ **OuterEnvironmentReferenceë¥¼ í†µí•´** `outer()`ì˜ xë¥¼ ì°¾ìŒ
    
3. `console.log(x);` ì‹¤í–‰ â†’ `10` ì¶œë ¥
    

â¡ï¸ **ì´ ê³¼ì •ì´ ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)!**

â¡ï¸ **í´ë¡œì €(Closure)ë„ ì´ ì›ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•¨!**

---

## ğŸ“Œí´ë¡œì €ë€?

**í´ë¡œì €(Closure)** ëŠ” **"ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜(ìŠ¤ì½”í”„)ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€ í•¨ìˆ˜"**  
â¡ï¸ ê·¸ë¦¬ê³  **ì™¸ë¶€ í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ì—ë„, ë‚´ë¶€ í•¨ìˆ˜ê°€ ê·¸ ë³€ìˆ˜ë¥¼ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ**  
â¡ï¸ **ì™œëƒí•˜ë©´** í•¨ìˆ˜ê°€ **ì°¸ì¡°í˜• ë°ì´í„°**ì´ê¸° ë•Œë¬¸  
â¡ï¸ **"í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ì—ë„ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ” ëŠ¥ë ¥"ì´ í´ë¡œì €ì˜ í•µì‹¬!**

âœ… **ì˜ˆì œ 1: í´ë¡œì €ê°€ ì—†ëŠ” ê²½ìš° (ì¼ë°˜ì ì¸ ìŠ¤ì½”í”„ ì²´ì¸)**

```jsx
function outer() {
  let count = 0;
}

outer();
console.log(count); // âŒ ReferenceError
```

1. `outer()` ì‹¤í–‰ â†’ `count`ê°€ `outer()`ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë¨.
    
2. `outer()`ê°€ ëë‚˜ë©´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ë©´ì„œ `count`ë„ ì‚­ì œë¨.
    
3. `console.log(count);` ì‹¤í–‰ ì‹œ ë³€ìˆ˜ `count`ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ â†’ `ReferenceError` ë°œìƒ.
    

â¡ï¸ **ì¦‰, ìŠ¤ì½”í”„ ì²´ì¸ë§Œìœ¼ë¡œëŠ” í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ ë³€ìˆ˜ë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ë‹¤!**

---

âœ… **ì˜ˆì œ 2: í´ë¡œì €ê°€ ì•ˆ ë˜ëŠ” ê²½ìš° (ê°’ì´ ë³µì‚¬ë¨)**

```jsx
function outer() {
    let count = 0; // ì™¸ë¶€ ë³€ìˆ˜

    return count; // âŒ ê¸°ë³¸í˜•(ìˆ«ì)ì„ ë°˜í™˜ (í´ë¡œì € X)
}

const counter = outer();
console.log(counter); // 0 âœ…
counter++;
console.log(counter); // 1 âŒ (ê°’ì´ ë³€í•˜ì§€ ì•ŠìŒ!)
```

* `outer()`ê°€ ì‹¤í–‰ë˜ë©´, `count = 0`ì´ ë˜ê³ ,
    
* `return count;`ì—ì„œ `count`ì˜ ê°’(0)ë§Œ ë°˜í™˜ë¨.
    
* ì¦‰, `counter = 0;`ì´ ë˜ì–´ ë²„ë ¤ì„œ `count`ì™€ì˜ ì—°ê²°ì´ ëŠì–´ì§!
    
* ê·¸ë˜ì„œ `counter++` í•´ë„, ì›ë˜ `count`ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ!
    

â¡ï¸ **ê¸°ë³¸í˜• ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë©´, ê°’ì´ ë³µì‚¬ë  ë¿ í´ë¡œì €ê°€ ë˜ì§€ ì•ŠìŒ!**

---

âœ… **ì˜ˆì œ 2: í´ë¡œì €ë¥¼ ì‚¬ìš©í•œ ê²½ìš°**

```jsx
function outer() {
  let count = 0; // ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë¨

  return function inner() {
    count++; // ì™¸ë¶€ ë³€ìˆ˜ countë¥¼ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    console.log(count);
  };
}

const counter = outer(); // outer() ì‹¤í–‰ í›„ inner() ë°˜í™˜
counter(); // 1
counter(); // 2
counter(); // 3
```

1. `outer()` ì‹¤í–‰ â†’ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± (`a = 10` ì €ì¥).
    
2. `inner()` í•¨ìˆ˜ê°€ ë°˜í™˜ë˜ë©´ì„œ, `outer()`ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì›ë˜ëŠ” ì‚¬ë¼ì ¸ì•¼ í•˜ì§€ë§Œ, **inner()ê°€** `count` **ë¥¼ ì°¸ì¡°í•˜ê³  ìˆì–´ì„œ GC(Garbage Collection)ê°€ ì œê±°í•˜ì§€ ì•ŠìŒ!**
    
3. `counter();` ì‹¤í–‰ ì‹œë§ˆë‹¤ `count++`ê°€ ì‹¤í–‰ë˜ë©´ì„œ ê°’ì„ ìœ ì§€í•¨.
    

â¡ï¸ **í´ë¡œì € ë•ë¶„ì—** `outer()`ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìœ ì§€ë˜ì–´ `count`**ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤!**

â¡ï¸ **ì¦‰, í´ë¡œì € ë•ë¶„ì— ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ì§€ ì•Šì•„ ë³€ìˆ˜ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤!**

â¡ï¸ ìŠ¤ì½”í”„ ì²´ì¸ì€ ë³€ìˆ˜ë¥¼ ì°¾ëŠ” ê¸°ë³¸ì ì¸ ê·œì¹™ì´ë¼ë©´, í´ë¡œì €ëŠ” ì‚¬ë¼ì§ˆ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ì—¬ ë³€ìˆ˜ë¥¼ ê³„ì† ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥

ğŸ” **í´ë¡œì €ê°€ ì™œ ì¤‘ìš”í•´?**

**ë³´í†µ í•¨ìˆ˜ê°€ ëë‚˜ë©´ ë³€ìˆ˜ë„ ì‚¬ë¼ì§€ëŠ”ë°, í´ë¡œì €ëŠ” ë³€ìˆ˜ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤!**  
**í´ë¡œì €ë¥¼ í™œìš©í•˜ë©´ ë³€ìˆ˜ë¥¼ ìˆ¨ê¸°ê³  íŠ¹ì • í•¨ìˆ˜ì—ë§Œ ì ‘ê·¼ ê¶Œí•œì„ ì£¼ì–´ ìº¡ìŠí™”ë¥¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.**  
ì¦‰, **í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ëŠ” ë°˜í™˜ëœ í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë©°, ì™¸ë¶€ì—ì„œëŠ” ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**

```jsx
// ì‚¬ìš©ìì˜ ì¥ë°”êµ¬ë‹ˆë¥¼ ê´€ë¦¬í•˜ëŠ” í•¨ìˆ˜
function createShoppingCart() {
    // private ë³€ìˆ˜ë“¤
    let items = [];
    let totalPrice = 0;

    return {
        // ìƒí’ˆ ì¶”ê°€ í•¨ìˆ˜
        addItem: function(item) {
            items.push(item);
            totalPrice += item.price;
            return `${item.name}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`;
        },

        // ìƒí’ˆ ì œê±° í•¨ìˆ˜
        removeItem: function(itemName) {
            const index = items.findIndex(item => item.name === itemName);
            if (index > -1) {
                totalPrice -= items[index].price;
                items.splice(index, 1);
                return `${itemName}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.`;
            }
            return "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        },

        // ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ì¡°íšŒ í•¨ìˆ˜
        getCartInfo: function() {
            return {
                itemCount: items.length,
                total: totalPrice,
                items: [...items] // ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ë°˜í™˜
            };
        }
    };
}

// ì¥ë°”êµ¬ë‹ˆ ì‚¬ìš© ì˜ˆì‹œ
const cart = createShoppingCart();

// ìƒí’ˆ ì¶”ê°€
console.log(cart.addItem({ name: "ë…¸íŠ¸ë¶", price: 1000000 }));
console.log(cart.addItem({ name: "ë§ˆìš°ìŠ¤", price: 50000 }));

// ì¥ë°”êµ¬ë‹ˆ ì •ë³´ í™•ì¸
console.log(cart.getCartInfo());
// ì¶œë ¥: { itemCount: 2, total: 1050000, items: [...] }

// ìƒí’ˆ ì œê±°
console.log(cart.removeItem("ë§ˆìš°ìŠ¤"));

// ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€ëŠ¥
console.log(cart.items);        // undefined
console.log(cart.totalPrice);   // undefined
```

âœ” **ë°ì´í„° ì€ë‹‰ (ì •ë³´ ë³´í˜¸)**  
âœ” **ìƒíƒœ ìœ ì§€ (ex: ì¹´ìš´í„°, ì„¤ì • ê°’)**  
âœ” **ë¹„ë™ê¸° ì²˜ë¦¬ (setTimeout, eventListener)**

### ğŸ“ **í´ë¡œì € ì •ë¦¬**

âœ” **í´ë¡œì €ëŠ” ë‚´ë¶€ í•¨ìˆ˜(inner function)ë‹¤.**  
âœ” **í´ë¡œì €ëŠ” ì™¸ë¶€ í•¨ìˆ˜(outer function)ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•œë‹¤.**  
âœ” **ì™¸ë¶€ í•¨ìˆ˜ ì‹¤í–‰ì´ ëë‚˜ë„, ë‚´ë¶€ í•¨ìˆ˜ê°€ ë³€ìˆ˜ë¥¼ ìœ ì§€í•œë‹¤.**

**í•œ ë§ˆë””ë¡œ: "í•¨ìˆ˜ê°€ ëë‚œ í›„ì—ë„ ë³€ìˆ˜ë¥¼ ìœ ì§€í•˜ë©´, ê·¸ê²Œ í´ë¡œì €ë‹¤!"** ğŸš€